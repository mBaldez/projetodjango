{% extends 'index.html' %}
{% block title %}Lista de Alunos{% endblock %}
{% block content %}

<div class="d-flex justify-content-between align-items-center mb-3">
  <h2>Lista de Alunos</h2>
  <a href="{% url 'student_create' %}" class="btn btn-primary">+ Novo Aluno</a>
</div>

<form method="get" class="mb-3">
  <div class="input-group">
    {{ form.query }}
    <button class="btn btn-outline-secondary" type="submit">Buscar</button>
  </div>
</form>

<table class="table table-striped table-bordered">
  <thead class="table-primary">
    <tr>
      <th>Nome</th>
      <th>E-mail</th>
      <th>Telefone</th>
      <th>Forma de Pagamento</th>
      <th>Data de Cadastro</th>
    </tr>
  </thead>
  <tbody>
    {% for s in students %}
    <tr>
      <td>{{ s.full_name }}</td>
      <td>{{ s.email }}</td>
      <td>{{ s.phone }}</td>
      <td>{{ s.get_preferred_payment_method_display }}</td>
      <td>{{ s.created_at|date:"d/m/Y H:i" }}</td>
    </tr>
    {% empty %}
    <tr><td colspan="5" class="text-center">Nenhum aluno encontrado.</td></tr>
    {% endfor %}
  </tbody>
</table>
{% endblock %}

